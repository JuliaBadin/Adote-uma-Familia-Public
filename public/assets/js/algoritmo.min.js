const a0_0x44cf10=a0_0x3226;(function(_0xb0ac96,_0x1145c9){const _0x563b9e=a0_0x3226,_0x3b65b3=_0xb0ac96();while(!![]){try{const _0x1ebf86=parseInt(_0x563b9e(0xd6))/0x1*(parseInt(_0x563b9e(0xb5))/0x2)+parseInt(_0x563b9e(0xaf))/0x3+-parseInt(_0x563b9e(0x93))/0x4*(-parseInt(_0x563b9e(0xa7))/0x5)+parseInt(_0x563b9e(0xbc))/0x6*(-parseInt(_0x563b9e(0x9e))/0x7)+parseInt(_0x563b9e(0xb3))/0x8*(parseInt(_0x563b9e(0x97))/0x9)+parseInt(_0x563b9e(0x92))/0xa+-parseInt(_0x563b9e(0xc5))/0xb;if(_0x1ebf86===_0x1145c9)break;else _0x3b65b3['push'](_0x3b65b3['shift']());}catch(_0x1c2ad0){_0x3b65b3['push'](_0x3b65b3['shift']());}}}(a0_0x493b,0x5d1ee));function a0_0x3226(_0x339e25,_0x1d6f8b){const _0x5b4bfb=a0_0x493b();return a0_0x3226=function(_0x3f273a,_0x3731c0){_0x3f273a=_0x3f273a-0x7e;let _0x493b55=_0x5b4bfb[_0x3f273a];return _0x493b55;},a0_0x3226(_0x339e25,_0x1d6f8b);}const a0_0x3731c0=(function(){let _0x1b5e7f=!![];return function(_0x292ca8,_0x45edd3){const _0x4c68c2=_0x1b5e7f?function(){const _0x1f5606=a0_0x3226;if(_0x45edd3){const _0x44065f=_0x45edd3[_0x1f5606(0xa0)](_0x292ca8,arguments);return _0x45edd3=null,_0x44065f;}}:function(){};return _0x1b5e7f=![],_0x4c68c2;};}()),a0_0x3f273a=a0_0x3731c0(this,function(){const _0x3ff73d=a0_0x3226,_0x5c9210={'hzCMG':_0x3ff73d(0xb4)};return a0_0x3f273a[_0x3ff73d(0xbf)]()['search'](_0x3ff73d(0xb4))[_0x3ff73d(0xbf)]()['constructor'](a0_0x3f273a)[_0x3ff73d(0xa9)](_0x5c9210['hzCMG']);});a0_0x3f273a();import{db}from'./inicializacaofirebase.js';import{collection,query,where,doc,getDocs,limit,updateDoc,arrayUnion,orderBy,startAt}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';import{getCurrentUser}from'./deteccaousuario.js';function a0_0x493b(){const _0x52c273=['connectedFamilies','location','col-lg-4','XjXWt','target','bMCwb','MZNTs','bhdSn','edhNI','ykzPY','docs','usersDonors','1DKDBMi','getElementById','HOcCU','forEach','city','stringify','rJFSo','addEventListener','load-families','col-sm-12','firstChild','uZRoZ','click','wWXyt','div','EuUFX','Usuário\x20ainda\x20não\x20completou\x20o\x20cadastro','uid','data','NTDSd','emailVerified','floor','YBqVO','4395790vxobSn','4xvOuVQ','email','TZvcK','PHuxG','486hqwOOg','add','appendChild','iOMOH','xWyup','\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-message\x22\x20data-family-email=\x22','sbiCR','14301VgbXHG','setItem','apply','YLten','includes','size','RRBXT','\x22\x20class=\x22family-photo\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>','data-family-email','438845opQRfA','fuTWm','search','error','ZTArB','select-families-list','VZJrS','khnrv','159732BIuxUy','name','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','href','28904KWMHnw','(((.+)+)+)+$','901790zWnFPF','random','fyXAc','push','CdMoL','removeChild','hutaT','2226ysmpLw','usersFamily','getAttribute','toString','JawYx','message','Cidade\x20não\x20disponível','reload-families','classList','959354mKKnzW','rTkCA','parse','EIrTh','lYWMA'];a0_0x493b=function(){return _0x52c273;};return a0_0x493b();}import{getLocalStorage}from'./usertype.js';async function getFamilies(){const _0xe73a87=a0_0x3226,_0x2c35b9={'fuTWm':function(_0x4b0b4a){return _0x4b0b4a();},'EIrTh':function(_0x1588ab){return _0x1588ab();},'DSTBv':function(_0x400c27,_0x5d4229,_0x359665){return _0x400c27(_0x5d4229,_0x359665);},'ykzPY':function(_0x1729b4,_0xe2bcba,_0x57cc7b,_0x316dc0){return _0x1729b4(_0xe2bcba,_0x57cc7b,_0x316dc0);},'wNhWJ':_0xe73a87(0x7f),'MZNTs':function(_0x443e34,_0xa391b2,_0x3ef4a8,_0x3687c7){return _0x443e34(_0xa391b2,_0x3ef4a8,_0x3687c7);},'fyXAc':_0xe73a87(0x8f),'RRBXT':function(_0x2eeb52,_0x123c2f){return _0x2eeb52(_0x123c2f);},'HOcCU':_0xe73a87(0xb6),'hutaT':function(_0x354edc,_0x18dde0){return _0x354edc>_0x18dde0;},'khnrv':function(_0x59e0ab,_0x404fc6,_0x57312e){return _0x59e0ab(_0x404fc6,_0x57312e);},'YLten':_0xe73a87(0xbd),'lYWMA':function(_0x357c24,_0x17885f,_0x44a889,_0x27df47,_0x3b6eb7,_0x89f452){return _0x357c24(_0x17885f,_0x44a889,_0x27df47,_0x3b6eb7,_0x89f452);},'iOMOH':function(_0x1aae96,_0x5c5807,_0x593b22,_0x303224){return _0x1aae96(_0x5c5807,_0x593b22,_0x303224);},'uugHT':function(_0x2e38bb,_0x1e2c49){return _0x2e38bb(_0x1e2c49);},'YBqVO':function(_0x4f6b75,_0x78d791){return _0x4f6b75(_0x78d791);},'TZvcK':function(_0x534b03,_0x5240f3){return _0x534b03(_0x5240f3);}},_0x1b0a7b=_0x2c35b9[_0xe73a87(0xa8)](getCurrentUser),_0x23d606=_0x2c35b9[_0xe73a87(0xa8)](getLocalStorage);if(_0x1b0a7b)try{let _0x374649=_0x2c35b9[_0xe73a87(0xc8)](getRandomToken),_0x5c3755=[],_0x11b268=[],_0x64c299=0x3,_0x1992db=null,_0x4506ba=null,_0x5dd581=null;for(_0x23d606[_0xe73a87(0x7f)]&&(_0x5c3755=query(_0x2c35b9['DSTBv'](collection,db,_0xe73a87(0xbd)),_0x2c35b9[_0xe73a87(0xd3)](where,_0x2c35b9['wNhWJ'],'==',_0x23d606[_0xe73a87(0x7f)]),_0x2c35b9[_0xe73a87(0xd0)](where,_0x2c35b9[_0xe73a87(0xb7)],'==',!0x0),_0x2c35b9['RRBXT'](orderBy,_0x2c35b9[_0xe73a87(0xd8)]),_0x2c35b9[_0xe73a87(0xa4)](startAt,_0x374649),_0x2c35b9[_0xe73a87(0xa4)](limit,0x3)),_0x1992db=await getDocs(_0x5c3755),_0x64c299-=_0x1992db[_0xe73a87(0xa3)],_0x11b268=[..._0x11b268,..._0x1992db[_0xe73a87(0xd4)]],_0x2c35b9[_0xe73a87(0xbb)](_0x64c299,0x0)&&(_0x5c3755=query(_0x2c35b9[_0xe73a87(0xae)](collection,db,_0x2c35b9[_0xe73a87(0xa1)]),where(_0x2c35b9[_0xe73a87(0xb7)],'==',!0x0),_0x2c35b9[_0xe73a87(0xa4)](orderBy,_0x2c35b9[_0xe73a87(0xd8)]),_0x2c35b9[_0xe73a87(0xa4)](startAt,_0x374649),_0x2c35b9['RRBXT'](limit,_0x64c299)),_0x4506ba=await _0x2c35b9[_0xe73a87(0xa4)](getDocs,_0x5c3755),_0x64c299-=_0x4506ba[_0xe73a87(0xa3)],_0x11b268=[..._0x11b268,..._0x4506ba[_0xe73a87(0xd4)]]));_0x64c299>0x0&&(_0x374649=_0x2c35b9[_0xe73a87(0xa8)](getRandomToken),_0x5c3755=_0x2c35b9[_0xe73a87(0xc9)](query,collection(db,_0x2c35b9[_0xe73a87(0xa1)]),_0x2c35b9[_0xe73a87(0x9a)](where,_0xe73a87(0x8f),'==',!0x0),_0x2c35b9[_0xe73a87(0xa4)](orderBy,_0x2c35b9['HOcCU']),_0x2c35b9['uugHT'](startAt,_0x374649),_0x2c35b9[_0xe73a87(0x91)](limit,_0x64c299)),_0x5dd581=await _0x2c35b9[_0xe73a87(0x95)](getDocs,_0x5c3755),_0x64c299-=_0x5dd581[_0xe73a87(0xa3)],_0x11b268=[..._0x11b268,..._0x5dd581[_0xe73a87(0xd4)]],0x0!=_0x5dd581[_0xe73a87(0xa3)]););showFamilies(_0x11b268);}catch(_0x414333){console[_0xe73a87(0xaa)](_0x414333[_0xe73a87(0xc1)]);}}function getRandomToken(){const _0x32065a=a0_0x3226,_0xab57c6={'VZJrS':function(_0xc432dd,_0x360a0b){return _0xc432dd*_0x360a0b;}};return Math[_0x32065a(0x90)](_0xab57c6[_0x32065a(0xad)](0x1869e,Math[_0x32065a(0xb6)]()));}function showFamilies(_0xd786ef){const _0x5a5b3a=a0_0x3226,_0x312cc1={'PHuxG':_0x5a5b3a(0xcc),'JawYx':_0x5a5b3a(0x84),'xWyup':'assets/img/default-user.png','YLWgR':_0x5a5b3a(0x8b),'JzoNT':_0x5a5b3a(0xc2),'EuUFX':'Biografia\x20ainda\x20não\x20escrita','nhIUg':_0x5a5b3a(0xa6),'NTDSd':function(_0x127bd4,_0x44dd98){return _0x127bd4(_0x44dd98);},'ZTArB':_0x5a5b3a(0x87),'bhdSn':'#select-family'},_0x5bc65a=document[_0x5a5b3a(0xd7)](_0x5a5b3a(0xac));!function(_0x4eda1e){const _0x2e847a=_0x5a5b3a;for(;_0x4eda1e[_0x2e847a(0x85)];)_0x4eda1e[_0x2e847a(0xba)](_0x4eda1e[_0x2e847a(0x85)]);}(_0x5bc65a),_0xd786ef[_0x5a5b3a(0x7e)](_0x916717=>{const _0x482c56=_0x5a5b3a,_0x1865af=_0x916717[_0x482c56(0x8d)](),_0x4d9de4=document['createElement'](_0x482c56(0x89));_0x4d9de4[_0x482c56(0xc4)][_0x482c56(0x98)](_0x312cc1[_0x482c56(0x96)]),_0x4d9de4[_0x482c56(0xc4)]['add'](_0x312cc1[_0x482c56(0xc0)]),_0x4d9de4['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div><img\x20src=\x22'+(_0x1865af['photoURL']||_0x312cc1[_0x482c56(0x9b)])+_0x482c56(0xa5)+(_0x1865af[_0x482c56(0xb0)]||_0x312cc1['YLWgR'])+_0x482c56(0xb1)+(_0x1865af['city']||_0x312cc1['JzoNT'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-muted\x22>'+(_0x1865af['description']||_0x312cc1[_0x482c56(0x8a)])+_0x482c56(0x9c)+_0x1865af[_0x482c56(0x94)]+'\x22\x20id=\x22select-family\x22>Quero\x20ajudar</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',_0x5bc65a[_0x482c56(0x99)](_0x4d9de4);}),document['querySelectorAll'](_0x312cc1[_0x5a5b3a(0xd1)])[_0x5a5b3a(0x7e)](_0x4eb1e7=>{const _0x4ac651=_0x5a5b3a;_0x4eb1e7[_0x4ac651(0x82)](_0x312cc1[_0x4ac651(0xab)],async _0x2764bb=>{const _0x196e84=_0x4ac651,_0x29c8cd=_0x2764bb[_0x196e84(0xce)][_0x196e84(0xbe)](_0x312cc1['nhIUg']);await _0x312cc1[_0x196e84(0x8e)](connectDonorToFamily,_0x29c8cd);});});}async function getFamilyUIDByEmail(_0x2b88e8){const _0x2f71ef=a0_0x3226,_0x2143dd={'uZRoZ':function(_0x4fc4bf,_0x2008d8){return _0x4fc4bf(_0x2008d8);},'wWXyt':function(_0x3b04c2,_0x12440d,_0x3c0e07){return _0x3b04c2(_0x12440d,_0x3c0e07);},'bMCwb':_0x2f71ef(0xbd),'iefud':function(_0x284e4b,_0x449bcc,_0x1ba884,_0x3cb94d){return _0x284e4b(_0x449bcc,_0x1ba884,_0x3cb94d);},'sbiCR':'email'};try{const _0x3f1a37=await _0x2143dd[_0x2f71ef(0x86)](getDocs,query(_0x2143dd[_0x2f71ef(0x88)](collection,db,_0x2143dd[_0x2f71ef(0xcf)]),_0x2143dd['iefud'](where,_0x2143dd[_0x2f71ef(0x9d)],'==',_0x2b88e8)));if(_0x3f1a37['empty'])return null;return _0x3f1a37[_0x2f71ef(0xd4)][0x0]['id'];}catch(_0x382f66){}}async function connectDonorToFamily(_0x2fceee){const _0x230d18=a0_0x3226,_0x33d4c9={'ZkZkm':function(_0x178805){return _0x178805();},'rJFSo':function(_0xe8c264,_0xea13e5){return _0xe8c264(_0xea13e5);},'qWHwo':function(_0x1a9f4c,_0x1a337b,_0x1ba370,_0x1d5fa0){return _0x1a9f4c(_0x1a337b,_0x1ba370,_0x1d5fa0);},'uFtQp':_0x230d18(0xd5),'vPDHS':function(_0x342976,_0x1a6598,_0x59b193,_0x4750bc){return _0x342976(_0x1a6598,_0x59b193,_0x4750bc);},'IveMf':_0x230d18(0xbd),'rTkCA':function(_0x40e15d,_0x5143b3,_0x315da6){return _0x40e15d(_0x5143b3,_0x315da6);},'EyZRy':function(_0x2245ba,_0x3015ab,_0x114815){return _0x2245ba(_0x3015ab,_0x114815);},'edhNI':'connectedFamilies','CdMoL':'../../perfil.html'},_0x416758=_0x33d4c9['ZkZkm'](getCurrentUser);if(_0x416758)try{const _0x315c52=await _0x33d4c9['rJFSo'](getFamilyUIDByEmail,_0x2fceee),_0x47227a=_0x33d4c9['qWHwo'](doc,db,_0x33d4c9['uFtQp'],_0x416758[_0x230d18(0x8c)]),_0x16f40b=_0x33d4c9['vPDHS'](doc,db,_0x33d4c9['IveMf'],_0x315c52);await _0x33d4c9[_0x230d18(0xc6)](updateDoc,_0x47227a,{'connectedFamilies':_0x33d4c9[_0x230d18(0x81)](arrayUnion,_0x315c52)}),await _0x33d4c9['EyZRy'](updateDoc,_0x16f40b,{'connectedDonors':arrayUnion(_0x416758[_0x230d18(0x8c)])});const _0x245913=JSON[_0x230d18(0xc7)](localStorage['getItem'](_0x33d4c9[_0x230d18(0xd2)]))||[];_0x245913[_0x230d18(0xa2)](_0x315c52)||(_0x245913[_0x230d18(0xb8)](_0x315c52),localStorage[_0x230d18(0x9f)](_0x230d18(0xca),JSON[_0x230d18(0x80)](_0x245913))),window[_0x230d18(0xcb)][_0x230d18(0xb2)]=_0x33d4c9[_0x230d18(0xb9)];}catch(_0x19057c){}}document['getElementById'](a0_0x44cf10(0xc3))['addEventListener'](a0_0x44cf10(0x87),async()=>{await getFamilies();}),document[a0_0x44cf10(0xd7)](a0_0x44cf10(0x83))['addEventListener'](a0_0x44cf10(0x87),async()=>{const _0x1dfca3=a0_0x44cf10,_0x5eec23={'XjXWt':function(_0x2269f1){return _0x2269f1();}};await _0x5eec23[_0x1dfca3(0xcd)](getFamilies);});