const a0_0x555674=a0_0x418b;(function(_0x435783,_0x37b5f2){const _0x403d0b=a0_0x418b,_0x9463eb=_0x435783();while(!![]){try{const _0x43bfe0=-parseInt(_0x403d0b(0x187))/0x1*(-parseInt(_0x403d0b(0x1ae))/0x2)+parseInt(_0x403d0b(0x172))/0x3+parseInt(_0x403d0b(0x1a9))/0x4*(-parseInt(_0x403d0b(0x18a))/0x5)+-parseInt(_0x403d0b(0x1a6))/0x6+parseInt(_0x403d0b(0x1b4))/0x7+-parseInt(_0x403d0b(0x1a3))/0x8+parseInt(_0x403d0b(0x19e))/0x9;if(_0x43bfe0===_0x37b5f2)break;else _0x9463eb['push'](_0x9463eb['shift']());}catch(_0xfc5951){_0x9463eb['push'](_0x9463eb['shift']());}}}(a0_0x5ddc,0x54ea6));const a0_0x3cc187=(function(){let _0x2c3870=!![];return function(_0x5a24f0,_0x2ed664){const _0x4de217=_0x2c3870?function(){const _0x58c2ad=a0_0x418b;if(_0x2ed664){const _0x110fde=_0x2ed664[_0x58c2ad(0x179)](_0x5a24f0,arguments);return _0x2ed664=null,_0x110fde;}}:function(){};return _0x2c3870=![],_0x4de217;};}()),a0_0x173888=a0_0x3cc187(this,function(){const _0x5de526=a0_0x418b,_0x1479cc={'YBIRy':'(((.+)+)+)+$'};return a0_0x173888['toString']()[_0x5de526(0x178)](_0x1479cc[_0x5de526(0x19a)])[_0x5de526(0x197)]()[_0x5de526(0x1a1)](a0_0x173888)[_0x5de526(0x178)](_0x5de526(0x19b));});a0_0x173888();import{storage,db}from'./inicializacaofirebase.js';import{doc,updateDoc}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';import{ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js';function a0_0x418b(_0x4cfe6e,_0x33c7de){const _0x5dcd8e=a0_0x5ddc();return a0_0x418b=function(_0x173888,_0x3cc187){_0x173888=_0x173888-0x170;let _0x5ddc42=_0x5dcd8e[_0x173888];return _0x5ddc42;},a0_0x418b(_0x4cfe6e,_0x33c7de);}function a0_0x5ddc(){const _0x16bbc0=['type','powdW','2950317waIkKa','PmaQC','phone-error','constructor','d-none','1840864heCprV','querySelectorAll','getElementById','2833068aHDBqK','save-button','user-name','8vBWPuk','name','addEventListener','phone','fbBBZ','4mXpJAu','user-photo','uid','lxpmT','edit-button','FBVho','2183412WYoFSj','inline-block','click','yiEqo','image/','Nenhum\x20arquivo\x20selecionado.','setItem','remove','Você\x20só\x20pode\x20atualizar\x20seus\x20dados\x20uma\x20vez\x20a\x20cada\x2024\x20horas.','O\x20arquivo\x20deve\x20ser\x20uma\x20imagem.','AWJup','startsWith','fayTy','now','display','add','352623bGhWHW','uhvYf','dYLOy','QznzT','lastUpdated','DUwSg','search','apply','src','test','classList','DzsLi','reload','qIwXg','vyDFl','AoZGn','style','ZMeht','XdCuQ','value','disabled','283813vtbmsT','.editable','none','686990ozoabA','coGaN','size','usersDonors','hvjEM','rsSIF','SQecE','city','forEach','stringify','tQokl','htwSi','.profile-section','toString','querySelector','photo-upload-button','YBIRy','(((.+)+)+)+$'];a0_0x5ddc=function(){return _0x16bbc0;};return a0_0x5ddc();}import{getCurrentUser}from'./deteccaousuario.js';import{getLocalStorage}from'./usertype.js';function toggleEditMode(_0x251ff2){const _0x575ad2=a0_0x418b,_0x581108={'qIwXg':_0x575ad2(0x1b2),'PmaQC':_0x575ad2(0x1b5),'SQecE':_0x575ad2(0x1a7),'dZtcO':_0x575ad2(0x189),'FBVho':'edit-mode','ZMeht':_0x575ad2(0x1a2)};document[_0x575ad2(0x1a4)](_0x575ad2(0x188))[_0x575ad2(0x192)](_0x31f16d=>{const _0x1fe0a6=_0x575ad2;_0x31f16d[_0x1fe0a6(0x186)]=!_0x251ff2;}),document[_0x575ad2(0x1a5)](_0x581108[_0x575ad2(0x17f)])[_0x575ad2(0x182)][_0x575ad2(0x170)]=_0x251ff2?_0x575ad2(0x189):_0x581108[_0x575ad2(0x19f)],document[_0x575ad2(0x1a5)](_0x581108[_0x575ad2(0x190)])[_0x575ad2(0x182)]['display']=_0x251ff2?_0x581108['PmaQC']:_0x581108['dZtcO'];const _0x51ab25=document[_0x575ad2(0x198)](_0x575ad2(0x196)),_0x30c351=document[_0x575ad2(0x1a5)](_0x575ad2(0x199));_0x251ff2?(_0x51ab25[_0x575ad2(0x17c)][_0x575ad2(0x171)](_0x581108[_0x575ad2(0x1b3)]),_0x30c351[_0x575ad2(0x17c)][_0x575ad2(0x1bb)](_0x581108[_0x575ad2(0x183)])):(_0x51ab25[_0x575ad2(0x17c)][_0x575ad2(0x1bb)](_0x581108[_0x575ad2(0x1b3)]),_0x30c351[_0x575ad2(0x17c)][_0x575ad2(0x171)](_0x581108[_0x575ad2(0x183)]));}function validateFile(_0x3d729c){const _0x50d435=a0_0x418b,_0x2a1f56={'hUCoO':'O\x20arquivo\x20deve\x20ter\x20menos\x20de\x205MB.','rsSIF':_0x50d435(0x1b8),'XdCuQ':function(_0x2a4373,_0x4c353f){return _0x2a4373(_0x4c353f);},'DzsLi':_0x50d435(0x1bd),'Qwgcd':_0x50d435(0x1b9)};return _0x3d729c?_0x3d729c[_0x50d435(0x18c)]>0x500000?(alert(_0x2a1f56['hUCoO']),!0x1):!!_0x3d729c[_0x50d435(0x19c)][_0x50d435(0x1bf)](_0x2a1f56[_0x50d435(0x18f)])||(_0x2a1f56[_0x50d435(0x184)](alert,_0x2a1f56[_0x50d435(0x17d)]),!0x1):(_0x2a1f56[_0x50d435(0x184)](alert,_0x2a1f56['Qwgcd']),!0x1);}function validatePhone(_0x40d45b){const _0x24a15d=a0_0x418b,_0x506a61={'AoZGn':_0x24a15d(0x1a0)};if(!/^\(?\d{2}\)?[-.\s]?\d{5}[-.\s]?\d{4}$/[_0x24a15d(0x17b)](_0x40d45b)){const _0x5bc6ea=document[_0x24a15d(0x1a5)](_0x506a61[_0x24a15d(0x181)]);return _0x5bc6ea&&(_0x5bc6ea['innerText']='Telefone\x20Inválido'),!0x1;}return!0x0;}document[a0_0x555674(0x1a5)](a0_0x555674(0x1b2))[a0_0x555674(0x1ab)](a0_0x555674(0x1b6),function(){const _0x470dab=a0_0x555674,_0x4e4392={'lxpmT':function(_0xf53182,_0x4a4a74){return _0xf53182<_0x4a4a74;},'coGaN':function(_0x202a0f,_0x32e66b){return _0x202a0f-_0x32e66b;},'DUwSg':function(_0x34931b){return _0x34931b();},'QznzT':function(_0xdf7a74,_0x3f65c3){return _0xdf7a74(_0x3f65c3);},'hvjEM':_0x470dab(0x1bc)};_0x4e4392[_0x470dab(0x1b1)](_0x4e4392[_0x470dab(0x18b)](Date[_0x470dab(0x1c1)](),_0x4e4392[_0x470dab(0x177)](getLocalStorage)[_0x470dab(0x176)]||0x0),0x5265c00)?_0x4e4392[_0x470dab(0x175)](alert,_0x4e4392[_0x470dab(0x18e)]):toggleEditMode(!0x0);}),document['getElementById'](a0_0x555674(0x1a7))[a0_0x555674(0x1ab)]('click',async function(_0x509295){const _0x49f3a7=a0_0x555674,_0x1d6c81={'htwSi':function(_0x24250e){return _0x24250e();},'REFof':function(_0x201a0c,_0x369335,_0x1de01b,_0x32e034){return _0x201a0c(_0x369335,_0x1de01b,_0x32e034);},'powdW':_0x49f3a7(0x18d),'yiEqo':_0x49f3a7(0x191),'KgNue':'phone','AWJup':'photo-upload','fayTy':function(_0x48f03b,_0x246630){return _0x48f03b(_0x246630);},'dYLOy':function(_0x2ee93b,_0x370bd6,_0x10825a){return _0x2ee93b(_0x370bd6,_0x10825a);},'vyDFl':function(_0x186dd5,_0x4bc11a){return _0x186dd5(_0x4bc11a);},'DHAHN':_0x49f3a7(0x1af),'KSavZ':function(_0x4ac1aa,_0x3c7ef4){return _0x4ac1aa>_0x3c7ef4;},'tQokl':function(_0x141e59,_0x2cf3c5,_0x7e09ea){return _0x141e59(_0x2cf3c5,_0x7e09ea);},'fbBBZ':_0x49f3a7(0x176),'uhvYf':function(_0x523ab8,_0x1cbe88){return _0x523ab8(_0x1cbe88);}};_0x509295['preventDefault']();const _0x3416f2=_0x1d6c81[_0x49f3a7(0x195)](getCurrentUser),_0x488b60=_0x1d6c81[_0x49f3a7(0x195)](getLocalStorage),_0xde414a=_0x1d6c81['REFof'](doc,db,_0x1d6c81[_0x49f3a7(0x19d)],_0x3416f2[_0x49f3a7(0x1b0)]),_0x4ee967=document[_0x49f3a7(0x1a5)](_0x49f3a7(0x1a8))[_0x49f3a7(0x185)]||_0x488b60[_0x49f3a7(0x1aa)],_0x2e2d4f=document[_0x49f3a7(0x1a5)](_0x1d6c81[_0x49f3a7(0x1b7)])[_0x49f3a7(0x185)]||_0x488b60[_0x49f3a7(0x191)],_0x3a9338=document[_0x49f3a7(0x1a5)](_0x1d6c81['KgNue'])[_0x49f3a7(0x185)]||_0x488b60[_0x49f3a7(0x1ac)],_0x392464=document[_0x49f3a7(0x1a5)](_0x1d6c81[_0x49f3a7(0x1be)])['files'][0x0],_0x37cf04={};if(validatePhone(_0x3a9338))try{if(_0x4ee967&&(_0x37cf04['name']=_0x4ee967),_0x2e2d4f&&(_0x37cf04[_0x49f3a7(0x191)]=_0x2e2d4f),_0x3a9338&&(_0x37cf04[_0x49f3a7(0x1ac)]=_0x3a9338),_0x392464&&_0x1d6c81[_0x49f3a7(0x1c0)](validateFile,_0x392464)){const _0x3f5132=_0x1d6c81[_0x49f3a7(0x174)](ref,storage,'usersDonorsPhotos/'+_0x3416f2[_0x49f3a7(0x1b0)]+'/'+_0x392464[_0x49f3a7(0x1aa)]);await uploadBytes(_0x3f5132,_0x392464);const _0x1dbe42=await _0x1d6c81[_0x49f3a7(0x180)](getDownloadURL,_0x3f5132);await _0x1d6c81[_0x49f3a7(0x174)](updateDoc,_0xde414a,{'photoURL':_0x1dbe42}),_0x37cf04['photoURL']=_0x1dbe42,document[_0x49f3a7(0x1a5)](_0x1d6c81['DHAHN'])[_0x49f3a7(0x17a)]=_0x1dbe42;}if(_0x1d6c81['KSavZ'](Object['keys'](_0x37cf04)['length'],0x0)){_0x37cf04[_0x49f3a7(0x176)]=Date[_0x49f3a7(0x1c1)](),await _0x1d6c81[_0x49f3a7(0x194)](updateDoc,_0xde414a,_0x37cf04);for(const _0x58757b in _0x37cf04)localStorage[_0x49f3a7(0x1ba)](_0x58757b,JSON[_0x49f3a7(0x193)](_0x37cf04[_0x58757b]));localStorage[_0x49f3a7(0x1ba)](_0x1d6c81[_0x49f3a7(0x1ad)],Date['now']());}location[_0x49f3a7(0x17e)]();}catch(_0x4556b2){}finally{_0x1d6c81[_0x49f3a7(0x173)](toggleEditMode,!0x1);}});